input {

    redis {
        host => "<%= p("logstash.queue.redis.host") %>"
        port => "<%= p("logstash.queue.redis.port") %>"
        type => "redis-input"
        data_type => "list"
        key => "<%= p("logstash.queue.redis.key") %>"
        threads => 8
    }
}

output {
    <% if_p("logstash.debug") do %>
    stdout { debug => true codec => "json"}
    <% end %>

    elasticsearch_http {
        host => "<%= p("logstash.output.elasticsearch.host") %>:<%= p("logstash.output.elasticsearch.port") %>"
        flush_size => <%= p("logstash.output.elasticsearch.flush_size") %>
        index_type => "%{@type}"
        manage_template => false
    }
}
    